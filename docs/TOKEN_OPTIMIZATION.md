# Claude Code 토큰 절약 가이드

## 🎯 토큰 절약 전략

### 1. 📝 **명확하고 간결한 요청**

#### ❌ 비효율적
```
"안녕하세요. 저는 한국 이름 시스템을 만들고 있는데, 사주 계산을 하는 함수를 만들어주세요. 전통적인 방법으로 하되, 현대적으로 개선해서, 성능도 좋고, 확장 가능하게 만들어주세요. 그리고 주석도 자세히 넣어주시고..."
```

#### ✅ 효율적
```
"사주 계산 함수 구현: calculateSaju(birthDate, birthTime?) -> SajuResult"
```

### 2. 🔧 **도구 사용 최적화**

#### 단일 도구 vs 배치 처리
```typescript
// ❌ 비효율: 여러 개별 호출
Read(file1.ts)
Read(file2.ts)
Read(file3.ts)

// ✅ 효율: 한 번에 여러 파일
// "file1, file2, file3의 핵심 구조만 파악해줘"
```

### 3. 📊 **컨텍스트 관리**

#### 필요한 정보만 공유
```typescript
// ❌ 전체 파일 내용
// ✅ 관련 인터페이스/타입만
interface KoreanName {
  korean: string;
  element: Element;
  // ... 핵심 필드만
}
```

### 4. 🎨 **점진적 개발**

#### Phase별 접근
1. **MVP**: 핵심 기능만
2. **확장**: 추가 기능
3. **최적화**: 성능 개선

---

## 🚀 우리 프로젝트 적용 방안

### 1. **코드 구조 최적화**

#### 현재 상태 분석
```
✅ 완료된 것들:
- 기본 사주 계산 시스템
- 이름 데이터베이스 구조
- ResultScreen 컴포넌트

⏳ 최적화 필요:
- 이름 데이터 확장 (4개 → 100개)
- 추가 언어 번역
- 성능 개선
```

### 2. **개발 우선순위**

#### High Priority (토큰 효율적)
1. **이름 데이터 확장**: 기존 구조 활용
2. **라우팅 연결**: 기존 컴포넌트 활용
3. **기본 스타일링**: 간단한 CSS

#### Medium Priority
1. **추가 언어 번역**: 자동화 가능
2. **프리미엄 기능**: 기존 로직 확장
3. **성능 최적화**: 필요시에만

#### Low Priority (나중에)
1. **고급 애니메이션**: 부가 기능
2. **복잡한 UI/UX**: 기본 기능 완성 후
3. **A/B 테스트**: 서비스 런칭 후

### 3. **효율적 커뮤니케이션**

#### 짧고 명확한 요청 예시
```
✅ "ResultScreen을 라우팅에 연결"
✅ "이름 DB에 목 오행 10개 추가"
✅ "번역 파일 자동 생성"
✅ "CSS 기본 스타일링"

❌ "결과 화면을 예쁘게 만들고 사용자 경험을 개선하며..."
```

### 4. **재사용 가능한 구성 요소**

#### 템플릿 활용
```typescript
// 이름 추가 템플릿
const nameTemplate = {
  korean: '',
  hanja: '',
  romanization: '',
  pronunciation: '',
  meaning: {
    ko: '', en: '', ja: '', fr: '', de: '',
    es: '', it: '', pt: '', th: '', id: ''
  },
  // ... 나머지 필드
};

// 이렇게 요청: "이 템플릿으로 목 오행 남성 이름 5개 생성"
```

---

## 📋 즉시 적용할 수 있는 액션 아이템

### Phase 1: 핵심 기능 완성 (토큰 효율적)

1. **라우팅 설정**
   - `currentScreen === 'results'`일 때 ResultScreen 표시

2. **이름 데이터베이스 확장**
   - 각 오행별 20개씩 (총 100개)
   - 기존 구조 재사용

3. **기본 CSS 스타일링**
   - ResultScreen 기본 레이아웃
   - 반응형 그리드

### Phase 2: 사용자 경험 개선

1. **로딩 애니메이션**
   - 간단한 CSS 애니메이션

2. **프리미엄 기능**
   - 결제 모달 연동

3. **추가 언어 번역**
   - 나머지 8개 언어 results.json

### Phase 3: 최적화 및 고도화

1. **성능 최적화**
   - React.memo, useMemo 적용

2. **SEO 최적화**
   - 메타데이터 추가

3. **분석 도구**
   - 사용자 행동 추적

---

## 🔍 토큰 사용량 모니터링

### 효율성 지표
- **요청당 토큰 수**: 평균 < 1000 토큰
- **성공률**: > 95%
- **재작업률**: < 10%

### 개선 방법
1. **구체적인 요청**: "무엇을", "어떻게"
2. **배치 처리**: 관련 작업들을 묶어서
3. **템플릿 활용**: 반복 작업 효율화

---

이 가이드를 따라 다음 개발 단계를 효율적으로 진행할 준비가 되었습니다! 🚀